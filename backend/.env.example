# SmartMail Backend Environment Configuration
# Copy this file to .env and fill in your actual values

# =============================================================================
# SERVER CONFIGURATION
# =============================================================================

# Port for the Express server to listen on
PORT=3001

# =============================================================================
# DATABASE CONFIGURATION
# =============================================================================

# SQLite database file path (relative to backend directory)
DATABASE_PATH=./database/smartmail.db

# =============================================================================
# GOOGLE OAUTH2 & GMAIL API
# =============================================================================

# Google OAuth2 Client ID (get from Google Cloud Console)
GOOGLE_CLIENT_ID=your-google-client-id-here.googleusercontent.com

# Google OAuth2 Client Secret (get from Google Cloud Console)
GOOGLE_CLIENT_SECRET=your-google-client-secret-here

# OAuth2 Redirect URI (must match Google Cloud Console settings)
GOOGLE_REDIRECT_URI=http://localhost:3001/api/auth/callback

# Scopes for Gmail API access (space-separated)
GOOGLE_SCOPES=https://www.googleapis.com/auth/gmail.readonly https://www.googleapis.com/auth/gmail.modify https://www.googleapis.com/auth/userinfo.profile https://www.googleapis.com/auth/userinfo.email

# =============================================================================
# JWT AUTHENTICATION
# =============================================================================

# Secret key for JWT token signing (generate a strong random string)
JWT_SECRET=your-super-secret-jwt-key-change-this-in-production-min-32-chars

# JWT token expiration time
JWT_EXPIRES_IN=7d

# JWT refresh token expiration time
JWT_REFRESH_EXPIRES_IN=30d

# =============================================================================
# AI SERVICE CONFIGURATION
# =============================================================================

# AI Provider: 'ollama' for local AI or 'gemini' for cloud AI
AI_PROVIDER=ollama

# Ollama Configuration (for local AI)
OLLAMA_BASE_URL=http://localhost:11434
OLLAMA_MODEL=llama2

# Google Gemini Configuration (for cloud AI)
# Get API key from: https://makersuite.google.com/app/apikey
GEMINI_API_KEY=your-gemini-api-key-here

# AI processing timeout in milliseconds
AI_TIMEOUT_MS=30000

# =============================================================================
# CORS CONFIGURATION
# =============================================================================

# Frontend URL for CORS (development)
FRONTEND_URL=http://localhost:5173

# Additional allowed origins (comma-separated for production)
ALLOWED_ORIGINS=http://localhost:3000,http://localhost:5173

# =============================================================================
# SECURITY CONFIGURATION
# =============================================================================

# Cookie settings for JWT tokens
COOKIE_SECURE=false
COOKIE_SAME_SITE=lax
COOKIE_HTTP_ONLY=true

# Session secret for express-session (if used)
SESSION_SECRET=your-session-secret-here

# Encryption key for sensitive data (32 characters minimum)
ENCRYPTION_KEY=your-32-character-encryption-key-here

# =============================================================================
# EMAIL SYNC CONFIGURATION
# =============================================================================

# Default number of messages to sync per request
DEFAULT_SYNC_LIMIT=50

# Maximum number of messages to sync per request
MAX_SYNC_LIMIT=500

# Default sync frequency in seconds
DEFAULT_SYNC_FREQUENCY=300

# =============================================================================
# DEVELOPMENT SETTINGS
# =============================================================================

# Enable development mode features
DEV_MODE=true

# Skip authentication in development (for testing only)
SKIP_AUTH=false

# Enable detailed error messages
DETAILED_ERRORS=true

# Log level: 'error', 'warn', 'info', 'debug'
LOG_LEVEL=info

# =============================================================================
# ADMIN CONFIGURATION
# =============================================================================

# Admin emails (comma-separated)
ADMIN_EMAILS=admin@smartmail.dev,support@smartmail.dev